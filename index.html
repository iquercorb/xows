<!doctype html>
<!-- Example HTML file to run XOWS Client

Notice that Xows Library files (JavaScript files and subfolders) can be stored
in a subfolder rather than the same level of the (this) HTML file.

In this case simply set proper path to the JavaScript file(s) to load, and
change the "lib_path" option value. -->
<html lang="en">

  <head>
    <meta charset="utf-8">
    <!-- For proper GUI display, it is strongly recommended to keep this configuration -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Xows release</title>
    <link rel="icon" href="favicon.png"/>

    <!-- Take care to set the proper path to files according your setup -->
    <script src="xows.min.js"></script>
  </head>

  <body>
    <!-- IMPORTANT! leave that empty, application GUI will be incorporated here -->
  </body>

  <script>

  // Set options
  const options = {
    // Base configuration
    "lib_path"            : "",                                   //< Path to XOWS files (relative to HTTP base URL)
    "lib_verbose"         : 1,                                    //< Console log verbosity level from 0 (nothing) to 3 (too much)

    // HTML Template loader options
    "tpl_load_mincss"     : true,                                 //< Load minified CSS theme file (disable it for theme edit/debug purpose)
    "tpl_force_uncache"   : false,                                //< Prevent browser cache (force reload assets by appending URL suffix)

    // XMPP/Websocket configuration
    "xmpp_url"            : "wss://localhost/xmpp-websocket/",    //< XMPP server Websocket address

    // User Login options
    "login_force_domain"  : "",                                   //< Optional domain to append (enforce) to XMPP login username
    "login_fail_delay"    : 2,                                    //< Anti-bruteforce temporization delay (seconds) after each failed login attempts
    "resume_timeout"      : 5,                                    //< Delay (minutes) before definitive abortion of connection recovery
    "resume_try_delay"    : 5,                                    //< Connection recovery delay (seconds) to wait between each attempts

    // GUI options
    "gui_theme"           : "dark",                               //< Interface theme (folder within /theme subdirectory)
    "gui_locale"          : "en-US",                              //< Preferred Localization (among available ones)
    "gui_allow_register"  : true,                                 //< Allow XMPP account register via Login page
    "gui_archive_delay"   : 500,                                  //< Delay (milliseconds) to validate fetch for older history messages

    // Client behavior
    "cli_archive_count"   : 50,                                   //< Minimum count of history message to fetch each iteration (MAM query)
    "cli_avat_autopub"    : true,                                 //< Auto-publish the default generated Avatar if none exists for user
    "cli_muc_autodisco"   : true,                                 //< Automatically discover and lists all available public MUC Rooms

    // Client features
    "cli_pepnotify_bkms"  : true,                                 //< Request for Native Bookmarks (XEP-0402) PEP notifications
    "cli_pepnotify_nick"  : true,                                 //< Request for User Nickname (XEP-0172) PEP notifications
    "cli_pepnotify_avat"  : true,                                 //< Request for User Avatar (XEP-0084) PEP notifications

    // Client additionnal external services
    "cli_extern_services" : [ { type:"stun",                      //< Manually defined XMPP External Services (following XEP-0215 schemas)
                                transport:"udp",
                                host:"stun.example.net",
                                port:"3478" },

                              { type:"turn",
                                transport:"udp",
                                host:"turn.example.net",
                                port:"3478",
                                secret:"7d77f8a6ac0bc041959af2abe460" } ],
  };

  // Initialize
  xows_init(options);

  </script>

</html>
